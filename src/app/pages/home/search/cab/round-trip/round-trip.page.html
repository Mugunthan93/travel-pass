
<ion-content>

  <form [formGroup]="roundTripCabSearch" (ngSubmit)="searchCab()">
    <ion-grid>
      <ion-row>
        <!--from-->
        <ion-col (click)="selectCity('source')">
          <ion-row>
            <ion-label class="bold large">From</ion-label>
            <ion-text class="medium bold" [ngClass]="errorClass('source')">
            {{ roundTripCabSearch.controls['source'].value !== null ? (roundTripCabSearch.controls['source'].value.station_name) : 'Select' }}
            </ion-text>
            <ion-text  class="medium bold" [ngClass]="errorClass('source')" *ngIf="roundTripCabSearch.controls['source'].value == null">
              Origin
            </ion-text>
          </ion-row>
        </ion-col>
        <!--exhange-->
        <ion-col>
          <ion-button class="swap" expand=full fill="clear" (click)="swapTrip()">
            <ion-icon src="../../../../../../assets/icons/straight.svg"></ion-icon>
          </ion-button>
        </ion-col>
        <!--to-->
        <ion-col (click)="selectCity('destination')">
          <ion-row>
            <ion-label class="bold large">To</ion-label>
            <ion-text class="medium bold" [ngClass]="errorClass('destination')">
            {{ roundTripCabSearch.controls['destination'].value !== null ? (roundTripCabSearch.controls['destination'].value.station_name) : 'Select' }}
            </ion-text>
            <ion-text  class="medium bold" [ngClass]="errorClass('destination')" *ngIf="roundTripCabSearch.controls['destination'].value == null">
              Destination
            </ion-text>
          </ion-row>
        </ion-col>
      </ion-row>
      <ion-row>
        <!--depart-->
        <ion-col (click)="selectDate('departure')">
          <ion-row>
            <ion-label class="bold large">Depart</ion-label>
            <ion-text class="medium bold" [ngClass]="errorClass('departure')">
              {{roundTripCabSearch.value.departure !== null ?
                (roundTripCabSearch.value.departure | date : 'EEE,d LLL' | titlecase) :
                'Select Date'}}
            </ion-text>
          </ion-row>
        </ion-col>
        <ion-icon src="../../../../../../assets/icons/letter.svg"></ion-icon>
        <ion-col (click)="selectDate('return')">
          <ion-row>
            <ion-label class="bold large">Return</ion-label>
            <ion-text class="medium bold" [ngClass]="errorClass('return')">
              {{roundTripCabSearch.value.return !== null ?
                (roundTripCabSearch.value.return | date : 'EEE,d LLL' | titlecase) :
                'Select Date'}}
            </ion-text>
          </ion-row>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-row>
            <ion-label class="bold large">Cab Type</ion-label>
            <ion-text class="medium bold"
              [ngClass]="errorClass('cab_type')"
              (click)="selectCabType()">{{( roundTripCabSearch.controls['cab_type'].value !== null ? roundTripCabSearch.controls['cab_type'].value : 'Select Cab Type') | titlecase}}</ion-text>
            <ion-item hidden="true">
              <ion-label>Cab Type</ion-label>
              <ion-select
                #selectcab
                formControlName="cab_type"
                cancelText="Cancel"
                okText="Confirm"
                [interfaceOptions]="customAlertOptions('Cab Type')"
                (ionChange)="changeCabType($event)"
                >
                <ion-select-option value="sedan">Sedan</ion-select-option>
                <ion-select-option value="hatchback">Hatchback</ion-select-option>
                <ion-select-option value="tempo traveller">Tempo Traveller</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-row>
        </ion-col>
        <ion-icon src="../../../../../../assets/icons/letter.svg"></ion-icon>
        <ion-col>
          <ion-row>
            <ion-label class="bold large">Passengers</ion-label>
            <ion-text class="medium bold"
              [ngClass]="errorClass('passenger')"
              (click)="selectPassenger()">{{( roundTripCabSearch.controls['passenger'].value !== null ? roundTripCabSearch.controls['passenger'].value : 'Select Passenger') }}</ion-text>
            <ion-item hidden="true">
              <ion-label>Passenger</ion-label>
              <ion-select
                #selectpass
                formControlName="passenger"
                cancelText="Cancel"
                okText="Confirm"
                [interfaceOptions]="customAlertOptions('Passenger Count')"
                (ionChange)="changePassenger($event)"
                >
                <ion-select-option *ngFor="let num of passengerArray" [value]="num">{{ num }}</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-row>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-button type="submit">
          <ion-text class="large boldest">{{'Search Cab' | titlecase}}</ion-text>
        </ion-button>
      </ion-row>
    </ion-grid>
    <ion-input formControlName="source" hidden required></ion-input>
    <ion-input formControlName="destination" hidden required></ion-input>
    <ion-input formControlName="departure" hidden required></ion-input>
    <ion-input formControlName="return" hidden required></ion-input>
  </form>


</ion-content>
